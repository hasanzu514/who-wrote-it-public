(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(36),c=a.n(n),r=a(2),s=a(15),o=(a(72),a(13)),i=a(4),l=a(5),u=a.n(l),b=a(44),j=a.n(b),p=a(54),m=a.n(p),d=a(0),_=function(e){return Object(d.jsx)("div",{className:m.a.card,children:e.children})},O=function(){return Object(d.jsxs)(_,{children:[Object(d.jsx)("h2",{children:"Do you really know your friends?"}),Object(d.jsx)("p",{children:"Guess who wrote each reply in your Facebook or Whatsapp chats! Jump into the example to see how it works. If you're already familiar, start a game!"}),Object(d.jsxs)("div",{children:[Object(d.jsx)(s.b,{className:j.a.btn,to:"/gamesetup",children:"New Game"}),Object(d.jsx)(s.b,{className:j.a.btn,to:"/joingame",children:"Join Game"})]}),Object(d.jsx)("div",{children:Object(d.jsx)(s.b,{className:j.a.btn,to:"/example",children:"Jump to Examples"})})]})},h=a(55),x=a.n(h),f=function(e){return Object(d.jsx)("button",{onClick:function(){e.exampleHandler(e.social)},className:x.a.button,children:e.title})},g=a(26),y=a.n(g),v=a(39),w=a.n(v),S=function(e){var t=w.a.participant;return e.reveal&&(t=e.name===e.answer?w.a.participant_correct:w.a.participant_incorrect),e.guess===e.name&&(t="".concat(t," ").concat(w.a.participant_selected)),Object(d.jsx)("button",{onClick:function(){e.answerHandler(e.name)},value:e.name,className:t,children:e.name})},N=a(34),k=a.n(N),C=function(e){return Object(d.jsxs)("div",{className:k.a.score,children:[Object(d.jsxs)("span",{className:k.a.score_correct,children:["Correct: ",Object(d.jsx)("span",{className:k.a.score_number,children:e.correct})]}),Object(d.jsxs)("span",{className:k.a.score_incorrect,children:["Incorrect:"," ",Object(d.jsx)("span",{className:k.a.score_number,children:e.incorrect})]})]})},F=a(56),G=a.n(F),T=function(e){return Object(d.jsx)("button",{onClick:function(){e.getReplyHandler()},className:G.a.next,children:"Next reply"})},A=a(25),R=a.n(A),P=a(37),J=a(57),H=a.n(J),I=function(){return Object(d.jsx)("div",{className:H.a.loading,children:Object(d.jsx)(P.FadingBalls,{color:"#20339e"})})},L=a(1),E=function(e){var t=Object(L.useState)(null),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(L.useState)(null),s=Object(i.a)(r,2),l=s[0],b=s[1],j=Object(L.useState)(!1),p=Object(i.a)(j,2),m=p[0],_=p[1],O=Object(L.useState)([]),h=Object(i.a)(O,2),x=h[0],f=h[1],g=Object(L.useState)(null),v=Object(i.a)(g,2),w=v[0],N=v[1],k=Object(L.useState)(!1),F=Object(i.a)(k,2),G=F[0],A=F[1],P=Object(L.useState)(0),J=Object(i.a)(P,2),H=J[0],E=J[1],Q=Object(L.useState)(0),q=Object(i.a)(Q,2),W=q[0],D=q[1],B=Object(L.useState)(!0),U=Object(i.a)(B,2),V=U[0],Z=U[1],z=Object(L.useState)(!1),Y=Object(i.a)(z,2),M=Y[0],K=Y[1],X=Object(L.useState)(y.a.modal_correct),$=Object(i.a)(X,2),ee=$[0],te=$[1],ae=e.social,ne=function(){var e=Object(o.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,fetch("api/examplereply",{method:"GET",headers:{"Content-Type":"application/json",social:ae}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,N(a.answer),f(a.selectedParticipants),b(a.reply),c(!1),_(!1),A(!1),Z(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){e===w?(E(H+1),K(!0),te(y.a.modal_correct),setTimeout((function(){return K(!1)}),1e3)):(D(W+1),K(!0),te(y.a.modal_incorrect),setTimeout((function(){return K(!1)}),1e3)),_(!0),c(e)};return Object(L.useEffect)((function(){})),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(R.a,{isOpen:M,contentLabel:"Show Result",className:y.a.modal,overlayClassName:y.a.overlay,children:Object(d.jsx)("p",{className:ee,children:ee===y.a.modal_correct?"Correct!":"Incorrect!"})}),Object(d.jsx)(C,{correct:H,incorrect:W}),!G&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:l}),l&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:y.a.guess_who,children:"Guess who wrote it:"}),Object(d.jsx)("div",{children:x.map((function(e){return Object(d.jsx)(S,{name:e.name,answerHandler:ce,answer:w,reveal:m,guess:n},Math.random())}))}),m&&Object(d.jsx)("div",{children:Object(d.jsx)(T,{getReplyHandler:ne})})]})]}),G&&Object(d.jsx)(I,{}),V&&Object(d.jsx)("button",{className:y.a.start,onClick:ne,children:"Start game"})]})},Q=function(){var e=Object(L.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(L.useState)(null),r=Object(i.a)(c,2),s=r[0],o=r[1];return Object(d.jsxs)(_,{children:[!a&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Check out the example below from a FaceBook chat. In a real game, the time it takes you to answer a question affects the points you get!"}),Object(d.jsx)(f,{title:"Facebook Example",social:"Facebook",exampleHandler:function(e){n(!0),o(e)}})]}),a&&Object(d.jsx)(E,{social:s})]})},q=a(6),W=a.n(q),D=a(32),B=a(49),U=a.n(B),V=a(33),Z=Object(V.b)({name:"words",initialState:{numReplies:null,reply:null,answer:null,reveal:!1,waitingForOthers:!1,guess:null,enterExample:!1,participants:[],guesses:[],numCorrect:0,numIncorrect:0,table:null,isLoading:!1,score:0,questionNumber:0,numQuestions:10},reducers:{setup:function(e,t){e.numReplies=t.payload.numReplies,e.participants=t.payload.participants,e.table=t.payload.table},setIsLoading:function(e,t){e.isLoading=t.payload.isLoading},setNextReply:function(e,t){e.reply=t.payload.reply,e.guesses=t.payload.guesses,e.questionNumber=t.payload.questionNumber,e.numQuestions=t.payload.numQuestions,e.answer=null,e.guess=null,e.waitingForOthers=!1},setEnterExample:function(e){e.enterExample=!0},setReveal:function(e,t){e.reveal=t.payload.reveal},setAnswer:function(e,t){e.answer=t.payload.answer,t.payload.answer&&(e.reveal=!0)},setScore:function(e,t){e.score=t.payload.score,e.numCorrect=t.payload.correct,e.numIncorrect=t.payload.incorrect},setSubmitAnswer:function(e,t){e.guess=t.payload.guess,t.payload.guess&&(e.waitingForOthers=!0)},setNumQuestions:function(e,t){e.numQuestions=t.payload.numQuestions},reset:function(e){e.numReplies=null,e.reply=null,e.answer=null,e.reveal=!1,e.waitingForOthers=!1,e.guess=null,e.enterExample=!1,e.participants=[],e.guesses=[],e.numCorrect=0,e.numIncorrect=0,e.table=null,e.isLoading=!1,e.score=0}}}),z=Object(V.b)({name:"gameSetup",initialState:{fileData:null,socialType:null,socket:null,step:null,host:!1,finalScores:[],username:null,correctArray:[],answerTimeArray:[]},reducers:{setFileData:function(e,t){e.fileData=t.payload.fileData},setSocialType:function(e,t){e.socialType=t.payload.socialType},setSocket:function(e,t){e.socket=t.payload.socket},setStep:function(e,t){e.step=t.payload.step},setHost:function(e,t){e.host=t.payload.host},setFinalScores:function(e,t){e.finalScores=t.payload.finalScores,e.correctArray=t.payload.correctArray,e.answerTimeArray=t.payload.answerTimeArray},setUsername:function(e,t){e.username=t.payload.username},reset:function(e){e.fileData=null,e.socialType=null,e.socket=null,e.step=null,e.host=!1,e.finalScores=[],e.username=null,e.correctArray=[],e.answerTimeArray=[]}}}),Y=Object(V.b)({name:"lobby",initialState:{players:[],code:null},reducers:{addPlayer:function(e,t){e.players.push(t.payload.username)},setAllPlayers:function(e,t){e.players=t.payload.usernames},initializePlayersAndHost:function(e,t){e.players=t.payload.usernames},setCode:function(e,t){e.code=t.payload.code},reset:function(e){e.players=[],e.code=null}}}),M=Z.actions,K=z.actions,X=Y.actions,$=Object(V.a)({reducer:{words:Z.reducer,gameSetup:z.reducer,lobby:Y.reducer},middleware:function(e){return e({serializableCheck:!1})}}),ee=function(e){var t=Object(r.b)(),a=Object(L.useState)("No file selected"),n=Object(i.a)(a,2),c=n[0],s=n[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:U.a.input,children:[Object(d.jsx)("label",{htmlFor:"text-input",children:e.text}),Object(d.jsx)("input",{type:e.type,onChange:function(e){var a=e.target.files[0],n=new FileReader;n.onload=function(){var e=Object(o.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(K.setFileData({fileData:n.target.result})),s(a.name);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(a)},id:"text-input"}),Object(d.jsx)("p",{className:U.a.filename,children:c})]})})},te=a(3),ae=function(){var e=Object(te.f)(),t=Object(r.b)(),a=Object(L.useState)(!1),n=Object(i.a)(a,2),c=n[0],s=n[1],l=Object(L.useState)(!1),b=Object(i.a)(l,2),j=b[0],p=b[1],m=Object(L.useState)([]),O=Object(i.a)(m,2),h=O[0],x=O[1],f=Object(L.useState)(""),g=Object(i.a)(f,2),y=g[0],v=g[1],w=Object(L.useState)(!1),S=Object(i.a)(w,2),N=S[0],k=S[1],C=Object(L.useState)(!1),F=Object(i.a)(C,2),G=F[0],T=F[1],A=Object(L.useState)(""),P=Object(i.a)(A,2),J=P[0],H=P[1],E=Object(r.c)((function(e){return e.gameSetup.fileData})),Q=Object(L.useState)(null),q=Object(i.a)(Q,2),B=q[0],U=q[1],V=function(e){U(e.target.id)},Z=function(){var e=Object(o.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),""!==y.trim()){e.next=6;break}H("Please enter a valid username."),k(!0),e.next=18;break;case 6:return e.next=8,fetch("/api/upload-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:E,social:B,username:y})});case 8:if(!(a=e.sent).ok){e.next=16;break}return e.next=12,a.json();case 12:"success"===(n=e.sent).message?(t(M.reset()),t(X.reset()),t(K.reset()),t(X.addPlayer({username:y})),t(K.setHost({host:!0})),p(!0),s(!1),x(n.participants.map((function(e){return e.name})))):(H(n.text),k(!0)),e.next=18;break;case 16:H("There was an error uploading your file, please try again."),k(!0);case 18:s(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var a=Object(o.a)(u.a.mark((function a(n){var c,r,o,i,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(n.preventDefault(),s(!0),c=Object(D.a)(),t(K.setSocket({socket:c})),r=[],o=0;o<h.length;o++)r.push({originalName:h[o],newName:n.target[o].value.trim()});return a.next=8,fetch("/api/update-names",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({renameArray:r})});case 8:if(!(i=a.sent).ok){a.next=16;break}return a.next=12,i.json();case 12:"success"===(l=a.sent).message&&(t(K.setUsername({username:y})),t(X.setCode({code:l.gameCode})),c.emit("join channel"),t(K.setStep({step:"lobby"})),e("/lobby")),a.next=18;break;case 16:H("There was an error creating the game, please try again"),k(!0);case 18:s(!1);case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(d.jsxs)(_,{children:[Object(d.jsxs)(R.a,{isOpen:N,contentLabel:"Join game error",className:W.a.modal,overlayClassName:W.a.overlay,children:[Object(d.jsx)("p",{className:W.a.modal_text,children:J}),Object(d.jsx)("button",{className:W.a.btn,onClick:function(){k(!1)},children:"Close"})]}),Object(d.jsxs)(R.a,{isOpen:G,contentLabel:"Join game error",className:W.a.modal_info,overlayClassName:W.a.overlay,children:[Object(d.jsxs)("div",{className:W.a.info_div,children:[Object(d.jsx)("span",{className:W.a.info_text,children:"Use the links below to see how to download your chat!"}),Object(d.jsx)("div",{children:Object(d.jsx)("a",{className:W.a.info_anchor,href:"https://www.facebook.com/help/1701730696756992",target:"_blank",children:"Facebook (json file)"})}),Object(d.jsx)("div",{children:Object(d.jsx)("a",{className:W.a.info_anchor,href:"https://faq.whatsapp.com/android/chats/how-to-save-your-chat-history/?lang=en",target:"_blank",children:"Whatsapp (txt file)"})})]}),Object(d.jsx)("button",{className:W.a.btn,onClick:function(){T(!1)},children:"Close"})]}),!j&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Enter a username:"}),Object(d.jsx)("input",{className:W.a.username,type:"text",placeholder:"username",onChange:function(e){v(e.target.value)},value:y}),Object(d.jsxs)("p",{children:["Choose a file type to upload:",Object(d.jsx)("span",{onClick:function(){T(!0)},className:W.a.info_btn,children:"Where do I get a chat file?"})]}),["Whatsapp","Facebook"].map((function(e){return Object(d.jsx)("button",{id:e,onClick:V,className:B===e?W.a.btn_selected:W.a.btn,children:e},e)})),B&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{children:["Upload your ",B," chat file: "]}),Object(d.jsx)(ee,{type:"file",text:"Chat File"}),Object(d.jsx)("button",{className:W.a.btn,onClick:Z,children:"Load Chat"})]})]}),j&&Object(d.jsx)("p",{children:"These are the names found in the chat. You can change them before creating the game."}),Object(d.jsxs)("form",{onSubmit:z,children:[h.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:W.a.participant,children:[Object(d.jsx)("label",{className:W.a.participant_label,for:e,children:e}),Object(d.jsx)("input",{className:W.a.participant_input,id:e,type:"text",placeholder:"rename"})]})})})),j&&Object(d.jsx)("button",{type:"submit",className:W.a.btn,children:"Create Game"})]}),c&&Object(d.jsx)(I,{})]})},ne=ae,ce=a(23),re=a.n(ce),se=a(40),oe=a.n(se),ie=function(e){var t=Object(r.b)(),a=Object(r.c)((function(e){return e.words.reveal})),n=Object(r.c)((function(e){return e.words.waitingForOthers})),c=Object(r.c)((function(e){return e.words.guess})),s=oe.a.participant;return a&&(s=e.name===e.answer?oe.a.participant_correct:oe.a.participant_incorrect),c&&e.name===c&&(s+=" ".concat(oe.a.participant_guess)),Object(d.jsx)("button",{onClick:function(){n||(t(M.setSubmitAnswer({guess:e.name})),e.answerHandler(e.name))},value:e.name,className:s,children:e.name})},le=a(27),ue=a.n(le),be=function(){var e=Object(r.c)((function(e){return e.words.numCorrect})),t=Object(r.c)((function(e){return e.words.numIncorrect})),a=Object(r.c)((function(e){return e.words.score}));return Object(d.jsxs)("div",{className:ue.a.score,children:[Object(d.jsxs)("span",{className:ue.a.score_correct,children:["Correct: ",Object(d.jsx)("span",{className:ue.a.score_number,children:e})]}),Object(d.jsxs)("span",{className:ue.a.score_incorrect,children:["Incorrect: ",Object(d.jsx)("span",{className:ue.a.score_number,children:t})]}),Object(d.jsxs)("div",{className:ue.a.score_value,children:["Score: ",Object(d.jsx)("span",{className:ue.a.score_number,children:a})]})]})},je=a(61),pe=a.n(je),me=function(e){var t=Object(r.b)(),a=Object(r.c)((function(e){return e.gameSetup.socket})),n=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(M.setIsLoading({isLoading:!0})),a.emit("next reply");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{onClick:n,className:pe.a.next,children:"Next reply"})})},de=function(e){var t=Object(te.f)(),a=Object(r.c)((function(e){return e.words.waitingForOthers})),n=Object(r.c)((function(e){return e.words.reply})),c=Object(r.c)((function(e){return e.words.reveal})),s=Object(r.c)((function(e){return e.words.guesses})),o=Object(r.c)((function(e){return e.words.answer})),l=Object(r.c)((function(e){return e.words.isLoading})),u=Object(r.c)((function(e){return e.gameSetup.socket})),b=Object(r.c)((function(e){return e.words.questionNumber})),j=Object(r.c)((function(e){return e.words.numQuestions})),p=Object(r.b)(),m=Object(r.c)((function(e){return e.gameSetup.host})),_=Object(L.useState)(!1),O=Object(i.a)(_,2),h=O[0],x=O[1],f=Object(L.useState)(re.a.modal_correct),g=Object(i.a)(f,2),y=g[0],v=g[1];Object(L.useEffect)((function(){u&&(u.on("check answer",(function(e,t,a,n,c){p(M.setAnswer({answer:e})),p(M.setScore({score:a,correct:n,incorrect:c})),t===e?(x(!0),v(re.a.modal_correct),setTimeout((function(){return x(!1)}),1e3)):(x(!0),v(re.a.modal_incorrect),setTimeout((function(){return x(!1)}),1e3))})),u.on("ready for answer",(function(){u.emit("get answer")})),u.on("game over",(function(){u.emit("get scoreboard")})),u.on("go to scoreboard",(function(e,a,n){p(K.setFinalScores({finalScores:e,correctArray:a,answerTimeArray:n})),p(K.setStep({step:"gameOver"})),t("/gameover")})))}),[u,p,t]);var w=function(e){u.emit("submit guess",e)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(R.a,{isOpen:h,contentLabel:"Show Result",className:re.a.modal,overlayClassName:re.a.overlay,children:Object(d.jsx)("p",{className:y,children:y===re.a.modal_correct?"Correct!":"Incorrect!"})}),Object(d.jsx)(be,{}),!l&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{children:["Question ",b,"/",j]}),Object(d.jsx)("p",{children:n}),n&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:re.a.guess_who,children:"Guess who wrote it:"}),Object(d.jsx)("div",{children:s.map((function(e){return Object(d.jsx)(ie,{name:e.name,answerHandler:w,answer:o},Math.random())}))}),a&&!c&&Object(d.jsx)("p",{children:"Waiting for others to answer..."}),c&&m&&b!==j&&Object(d.jsx)("div",{children:Object(d.jsx)(me,{})}),c&&m&&b===j&&Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){u.emit("game over")},className:re.a.btn,children:"Scoreboard"})})]})]}),l&&Object(d.jsx)("div",{className:re.a.loading,children:Object(d.jsx)(P.FadingBalls,{color:"#20339e"})})]})},_e=a(62),Oe=a.n(_e),he=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Looks like you're not supposed to be here..."}),Object(d.jsx)(s.b,{className:Oe.a.btn,to:"/",children:"Back to Homepage"})]})},xe=function(){var e=Object(r.c)((function(e){return e.gameSetup.socket})),t=Object(r.c)((function(e){return e.gameSetup.step})),a=Object(r.b)();return Object(L.useEffect)((function(){e&&e.on("next reply",(function(e,t,n,c){a(M.setNextReply({reply:e,guesses:t,questionNumber:n,numQuestions:c})),a(M.setIsLoading({isLoading:!1})),a(M.setReveal({reveal:!1}))}))}),[e,a]),Object(d.jsxs)(_,{children:["inGame"===t&&Object(d.jsx)(de,{}),"inGame"!==t&&Object(d.jsx)(he,{})]})},fe=a(35),ge=a.n(fe),ye=function(e){var t=Object(te.f)(),a=Object(r.b)(),n=Object(r.c)((function(e){return e.gameSetup.socket})),c=Object(r.c)((function(e){return e.gameSetup.username})),i=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.disconnect(),t("/"),a(M.reset()),a(X.reset()),a(K.reset());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("header",{className:ge.a.header,children:Object(d.jsxs)("div",{className:ge.a.header_container,children:[Object(d.jsx)("div",{className:ge.a.header_text,children:Object(d.jsx)(s.b,{to:"/",children:"Guess who wrote it"})}),c&&Object(d.jsxs)("div",{className:ge.a.logout,children:[Object(d.jsx)("span",{className:ge.a.username,children:c}),Object(d.jsx)("button",{onClick:i,children:"Exit Game"})]})]})})},ve=a(24),we=a.n(ve),Se=a(63),Ne=a.n(Se),ke=function(e){return Object(d.jsx)("span",{className:Ne.a.username,children:e.username})},Ce=function(){var e=Object(te.f)(),t=Object(r.b)(),a=Object(r.c)((function(e){return e.lobby.players})),n=Object(r.c)((function(e){return e.gameSetup.host})),c=Object(r.c)((function(e){return e.gameSetup.socket})),s=Object(r.c)((function(e){return e.gameSetup.step})),o=Object(r.c)((function(e){return e.lobby.code})),l=Object(r.c)((function(e){return e.words.numQuestions})),u=Object(L.useState)(null),b=Object(i.a)(u,2),j=b[0],p=b[1],m=Object(L.useState)(we.a.btn),O=Object(i.a)(m,2),h=O[0],x=O[1];Object(L.useEffect)((function(){c&&(c.on("update lobby",(function(e){t(X.setAllPlayers({usernames:e}))})),c.on("next reply",(function(a,n,c,r){t(M.setNextReply({reply:a,guesses:n,questionNumber:c,numQuestions:r})),t(K.setStep({step:"inGame"})),e("/ingame")})),c.on("countdown",(function(e){p("Game starting in ".concat(e," seconds."))})))}),[c,t,e]);return Object(d.jsxs)(_,{children:["lobby"===s&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h2",{children:["Game ID: ",o]}),Object(d.jsx)("button",{className:h,onClick:function(){navigator.clipboard.writeText(window.location.href.split("/lobby")[0]+"/joingame?code=".concat(o)),x("".concat(we.a.btn," ").concat(we.a.btn_copy)),setTimeout((function(){return x(we.a.btn)}),1e3)},children:"Copy link to join game"}),Object(d.jsx)("h3",{children:"Players in lobby"}),a.map((function(e){return Object(d.jsx)(ke,{username:e},e)})),n&&!j&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Number of questions: ",l]}),Object(d.jsx)("button",{onClick:function(){t(l<20?M.setNumQuestions({numQuestions:l+1}):M.setNumQuestions({numQuestions:2}))},className:we.a.arrow,children:Object(d.jsx)("i",{className:we.a.arrow_up})}),Object(d.jsx)("button",{onClick:function(){t(l>2?M.setNumQuestions({numQuestions:l-1}):M.setNumQuestions({numQuestions:20}))},className:we.a.arrow,children:Object(d.jsx)("i",{className:we.a.arrow_down})})]}),Object(d.jsx)("button",{onClick:function(){c.emit("start game",l)},className:we.a.btn,children:"Start Game"})]}),!n&&!j&&Object(d.jsx)("h3",{children:"waiting for host to start game..."}),j&&Object(d.jsx)("p",{children:j})]}),"lobby"!==s&&Object(d.jsx)(he,{})]})},Fe=a(28),Ge=a.n(Fe),Te=function(){var e=Object(r.b)(),t=Object(te.f)(),a=Object(L.useState)(null),n=Object(i.a)(a,2),c=n[0],l=n[1],b=Object(L.useState)(""),j=Object(i.a)(b,2),p=j[0],m=j[1],O=Object(L.useState)(!1),h=Object(i.a)(O,2),x=h[0],f=h[1],g=Object(L.useState)(""),y=Object(i.a)(g,2),v=y[0],w=y[1],S=Object(s.c)(),N=Object(i.a)(S,1)[0];Object(L.useEffect)((function(){l(N.get("code"))}),[N]);var k=function(){var a=Object(o.a)(u.a.mark((function a(){var n,r,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/join-game",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:c,username:p})});case 2:return n=a.sent,a.next=5,n.json();case 5:!0===(r=a.sent).join?(s=Object(D.a)(),e(K.setUsername({username:p})),e(K.setSocket({socket:s})),s.on("join lobby",(function(a,n){e(X.setAllPlayers({usernames:a})),e(X.setCode({code:n})),e(K.setStep({step:"lobby"})),t("/lobby")})),s.emit("join game",c,p)):(w(r.message),f(!0));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(d.jsxs)(_,{children:[Object(d.jsxs)(R.a,{isOpen:x,contentLabel:"Join game error",className:Ge.a.modal,overlayClassName:Ge.a.overlay,children:[Object(d.jsx)("p",{className:Ge.a.modal_text,children:v}),Object(d.jsx)("button",{className:Ge.a.btn,onClick:function(){f(!1)},children:"Close"})]}),Object(d.jsx)("p",{children:"Enter a username:"}),Object(d.jsx)("input",{className:Ge.a.username,type:"text",placeholder:"username",onChange:function(e){m(e.target.value)},value:p}),Object(d.jsxs)("div",{className:Ge.a.joingame,children:[Object(d.jsx)("label",{htmlFor:"code",children:"Enter code to join game:"}),Object(d.jsx)("input",{onChange:function(e){l(e.target.value)},type:"text",placeholder:"xxxx",id:"code",value:c})]}),Object(d.jsx)("button",{onClick:k,className:Ge.a.btn,children:"Join Game"})]})},Ae=Te,Re=a(64),Pe=a.n(Re),Je=a(29),He=a.n(Je),Ie=function(){var e,t=Object(r.c)((function(e){return e.gameSetup.finalScores})),a=Object(r.c)((function(e){return e.gameSetup.correctArray})),n=Object(r.c)((function(e){return e.gameSetup.answerTimeArray}));t&&t.length>0&&(e=t[0].score);var c=[];if(a)for(var s=0;s<a.length;s++)c.push(Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:He.a.stats_question,children:"Q".concat(s+1)}),Object(d.jsx)("td",{className:He.a.stats_correct,children:a[s]}),Object(d.jsxs)("td",{className:He.a.stats_time,children:["Answer time: ",n[s]," s"]})]}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("table",{children:t.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:He.a.name,children:t.name}),Object(d.jsx)("td",{className:He.a.scorebar,children:Object(d.jsx)("div",{style:{width:"".concat(Math.floor(t.score/e*100),"%")}})}),Object(d.jsx)("td",{className:He.a.score,children:t.score})]})}))}),Object(d.jsx)("table",{children:c})]})},Le=function(){var e=Object(r.c)((function(e){return e.gameSetup.socket})),t=Object(r.c)((function(e){return e.gameSetup.step})),a=Object(te.f)(),n=Object(r.b)();return Object(d.jsxs)(_,{children:["gameOver"===t&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Game Over"}),Object(d.jsx)("p",{children:"Scoreboard"}),Object(d.jsx)(Ie,{}),Object(d.jsx)("button",{className:Pe.a.btn,onClick:function(){e.disconnect(),a("/"),n(M.reset()),n(X.reset()),n(K.reset())},children:"Leave Game"})]}),"gameOver"!==t&&Object(d.jsx)(he,{})]})},Ee=function(){var e=Object(te.f)(),t=Object(r.c)((function(e){return e.gameSetup.socket})),a=Object(L.useState)(!0),n=Object(i.a)(a,2),c=n[0],s=n[1],l=Object(r.b)();return Object(L.useEffect)((function(){s(!0);var a=function(){var a=Object(o.a)(u.a.mark((function a(){var n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/game-status",{method:"POST",headers:{"Content-Type":"application/json"}});case 2:return n=a.sent,a.next=5,n.json();case 5:!0!==a.sent.connect||t||(c=Object(D.a)(),l(K.setSocket({socket:c})),c.on("rejoin game",(function(t,a,n,c,r,s,o,i,u,b,j,p){l(K.setUsername({username:t})),l(K.setStep({step:a})),l(M.setNextReply({reply:n,guesses:c,questionNumber:j,numQuestions:p})),l(M.setSubmitAnswer({guess:i})),l(M.setAnswer({answer:u})),l(M.setScore({score:r,correct:s,incorrect:o})),l(K.setHost({host:b})),e("/ingame")})),c.on("rejoin lobby",(function(t,a,n,c,r){l(K.setUsername({username:t})),l(K.setStep({step:a})),l(X.setAllPlayers({usernames:n})),l(X.setCode({code:c})),l(K.setHost({host:r})),e("/lobby")})),c.on("rejoin gameover",(function(t,a,n,c,r){l(K.setUsername({username:t})),l(K.setStep({step:a})),l(K.setFinalScores({finalScores:n,correctArray:c,answerTimeArray:r})),e("/gameover")}))),s(!1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[e,l]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ye,{}),c&&Object(d.jsx)(I,{}),!c&&Object(d.jsxs)(te.c,{children:[Object(d.jsx)(te.a,{path:"/",element:Object(d.jsx)(O,{})}),Object(d.jsx)(te.a,{path:"/gamesetup",element:Object(d.jsx)(ne,{})}),Object(d.jsx)(te.a,{path:"/example",element:Object(d.jsx)(Q,{})}),Object(d.jsx)(te.a,{path:"/joingame",element:Object(d.jsx)(Ae,{})}),Object(d.jsx)(te.a,{path:"/lobby",element:Object(d.jsx)(Ce,{})}),Object(d.jsx)(te.a,{path:"/ingame",element:Object(d.jsx)(xe,{})}),Object(d.jsx)(te.a,{path:"/gameover",element:Object(d.jsx)(Le,{})})]})]})};c.a.render(Object(d.jsx)(r.a,{store:$,children:Object(d.jsx)(s.a,{children:Object(d.jsx)(Ee,{})})}),document.getElementById("root"))},23:function(e,t,a){e.exports={guess_who:"Reveal_guess_who__1iCdy",loading:"Reveal_loading__1kbp7",modal:"Reveal_modal__345Eb","meals-appear":"Reveal_meals-appear__1Yn7W",modal_correct:"Reveal_modal_correct__GuJII",modal_incorrect:"Reveal_modal_incorrect__iwunu",overlay:"Reveal_overlay__3mRZG",btn:"Reveal_btn__2NjWW"}},24:function(e,t,a){e.exports={btn:"Lobby_btn__37sXC","button-appear":"Lobby_button-appear__2AVlz",arrow:"Lobby_arrow__3jvkU",arrow_up:"Lobby_arrow_up__3vciz",arrow_down:"Lobby_arrow_down__rgr8t",btn_copy:"Lobby_btn_copy__1WNv4"}},26:function(e,t,a){e.exports={guess_who:"Reveal_guess_who__c0Utd",loading:"Reveal_loading__31-70",start:"Reveal_start__bGcVs","meals-appear":"Reveal_meals-appear__1yoaE",modal:"Reveal_modal__3gS3A",modal_correct:"Reveal_modal_correct__mlY7-",modal_incorrect:"Reveal_modal_incorrect__3xrJm",overlay:"Reveal_overlay__3_iae"}},27:function(e,t,a){e.exports={score:"Score_score__1kKlN",score_correct:"Score_score_correct__2ir3t",score_incorrect:"Score_score_incorrect__125SO",score_value:"Score_score_value__Mq7ck",score_number:"Score_score_number__1FR9U","number-appear":"Score_number-appear__1ioaT"}},28:function(e,t,a){e.exports={joingame:"Joingame_joingame__3b2Ya","button-appear":"Joingame_button-appear__2r_z1",btn:"Joingame_btn__2c61m",username:"Joingame_username__2aBBT",modal:"Joingame_modal__uK9w8","meals-appear":"Joingame_meals-appear__3ZTy5",overlay:"Joingame_overlay__-kBwI",modal_text:"Joingame_modal_text__3VdgX"}},29:function(e,t,a){e.exports={stats_question:"Scoreboard_stats_question__3YP33",stats_correct:"Scoreboard_stats_correct__3NNOA",stats_time:"Scoreboard_stats_time__ZKJIB",name:"Scoreboard_name__qVwiR",scorebar:"Scoreboard_scorebar__3Y590",score:"Scoreboard_score__I52qi"}},34:function(e,t,a){e.exports={score:"Score_score__323k1",score_correct:"Score_score_correct__3mrPJ",score_incorrect:"Score_score_incorrect__3zcTU",score_number:"Score_score_number__1k3Os","number-appear":"Score_number-appear__268oa"}},35:function(e,t,a){e.exports={header:"Header_header__2gCm2",header_container:"Header_header_container__z87iA",header_text:"Header_header_text__2nD7C",username:"Header_username__20a0h",logout:"Header_logout__D0BO6"}},39:function(e,t,a){e.exports={participant:"Participant_participant__1AsTm","meals-appear":"Participant_meals-appear__2Q8E9",participant_correct:"Participant_participant_correct__2Z554",participant_incorrect:"Participant_participant_incorrect__rCs5g",participant_selected:"Participant_participant_selected__2vSW2"}},40:function(e,t,a){e.exports={participant:"Participant_participant__3oVs-","meals-appear":"Participant_meals-appear__3SVCJ",participant_correct:"Participant_participant_correct__2pNik",participant_incorrect:"Participant_participant_incorrect__Eeaml",participant_guess:"Participant_participant_guess__ayOwV"}},44:function(e,t,a){e.exports={btn:"Homepage_btn__1kodd","button-appear":"Homepage_button-appear__2Bhli"}},49:function(e,t,a){e.exports={input:"HiddenInput_input__1iPqV",filename:"HiddenInput_filename__1-wmd"}},54:function(e,t,a){e.exports={card:"Card_card__N0hQD"}},55:function(e,t,a){e.exports={button:"ExampleStartButton_button__2bhSM","example-appear":"ExampleStartButton_example-appear__2J62R"}},56:function(e,t,a){e.exports={next:"NextWord_next__3mAGA","meals-appear":"NextWord_meals-appear__3_ZC4"}},57:function(e,t,a){e.exports={loading:"LoadingBar_loading__bA3Df"}},6:function(e,t,a){e.exports={username:"GameSetup_username__W_4Ak","button-appear":"GameSetup_button-appear__1Phb1",btn:"GameSetup_btn__3xbDJ",btn_selected:"GameSetup_btn_selected__3_wmN",loading:"GameSetup_loading__pLx-w",participant:"GameSetup_participant__1II1C",participant_label:"GameSetup_participant_label__7hmrZ",participant_input:"GameSetup_participant_input__1q-yZ",modal:"GameSetup_modal__2j4-1","meals-appear":"GameSetup_meals-appear__2nqg8",overlay:"GameSetup_overlay__2nk3y",modal_text:"GameSetup_modal_text__2nqtu",modal_info:"GameSetup_modal_info__2sG6-",info_div:"GameSetup_info_div__1TCkd",info_btn:"GameSetup_info_btn__fHWQm",info_text:"GameSetup_info_text__2k9On",info_anchor:"GameSetup_info_anchor__2gInx"}},61:function(e,t,a){e.exports={next:"NextWord_next__HkU8l","meals-appear":"NextWord_meals-appear__2fOX8"}},62:function(e,t,a){e.exports={btn:"WrongRoute_btn__ZFC-T","button-appear":"WrongRoute_button-appear__2YCOZ"}},63:function(e,t,a){e.exports={username:"Player_username__37AkP","button-appear":"Player_button-appear__o45vB"}},64:function(e,t,a){e.exports={btn:"GameOver_btn__2mHd5","meals-appear":"GameOver_meals-appear__3O_Vi"}},72:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.4a72f544.chunk.js.map